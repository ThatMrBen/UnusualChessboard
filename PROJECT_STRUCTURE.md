# UnusualChessboard Project Structure | 这个棋盘不一般项目结构

[English](#project-structure) | [中文](#项目结构)

### Project Information | 项目信息

- **Project Name | 项目名称**: UnusualChessboard | 这个棋盘不一般
- **Maintainers | 维护者**: flintcore Development Department | 燧石核心开发部门
- **Repository | 代码仓库**: https://github.com/ThatMrBen/UnusualChessboard
- **Copyright | 版权**: © 2025

## Project Structure

This document describes the directory structure and file organization of the UnusualChessboard project.

### Root Directory Structure

```
UnusualChessboard/
├── client/               # Frontend application
├── server/               # Backend application
├── mobile/               # Mobile application
├── .github/              # GitHub configuration
├── .gitignore            # Git ignore file
├── CODE_OF_CONDUCT.md    # Code of conduct
├── CONTRIBUTING.md       # Contribution guide
├── development_plan.md   # Development plan
├── LICENSE               # License
├── package.json          # Root configuration with npm workspaces
├── PROJECT_STRUCTURE.md  # This file (project structure documentation)
└── README.md             # Project description
```

### Frontend Application Structure (client/)

```
client/
├── public/               # Static assets
│   └── favicon.svg       # Website icon
├── src/                  # Source code
│   ├── assets/           # Static assets (images, fonts)
│   ├── components/       # UI components
│   ├── games/            # Game implementations
│   │   ├── chess/        # International Chess
│   │   ├── chinese-chess/ # Chinese Chess
│   │   ├── gobang/       # Five in a Row
│   │   ├── go/           # Go
│   │   └── ...           # Other games
│   ├── hooks/            # Custom React hooks
│   ├── i18n/             # Internationalization
│   │   ├── locales/      # Translation files
│   │   │   ├── en.json   # English translation
│   │   │   └── zh.json   # Chinese translation
│   │   └── i18n.ts       # i18n configuration
│   ├── layouts/          # Layout components
│   │   └── MainLayout.tsx # Main layout
│   ├── router/           # Router configuration
│   ├── services/         # API services
│   │   └── api.ts        # API client for backend communication
│   ├── store/            # State management
│   │   └── useGameStore.ts # Game state with cloud sync support
│   ├── styles/           # Style files
│   │   └── index.css     # Main style file
│   ├── utils/            # Utility functions
│   ├── App.tsx           # Root component
│   ├── main.tsx          # Entry point
│   └── vite-env.d.ts     # Vite type declarations
├── .eslintrc.json        # ESLint configuration
├── .prettierrc           # Prettier configuration
├── index.html            # HTML entry file
├── package.json          # Dependencies and scripts
├── postcss.config.js     # PostCSS configuration
├── tailwind.config.js    # Tailwind configuration
├── tsconfig.json         # TypeScript configuration
├── tsconfig.node.json    # Node.js TypeScript configuration
└── vite.config.ts        # Vite configuration
```

### Backend Application Structure (server/)

```
server/
├── src/                  # Source code
│   ├── config/           # Configuration files
│   │   └── db.ts         # Database configuration
│   ├── controllers/      # Request handlers
│   │   ├── authController.ts # Authentication controller
│   │   └── gameDataController.ts # Game data controller
│   ├── middlewares/      # Middleware
│   │   ├── authMiddleware.ts # Authentication middleware
│   │   └── errorHandler.ts # Error handling middleware
│   ├── models/           # Database models
│   │   ├── User.ts       # User model
│   │   ├── GameData.ts   # Game data model
│   │   └── VerificationCode.ts # Verification code model
│   ├── routes/           # API routes
│   │   ├── authRoutes.ts # Authentication routes
│   │   ├── gameDataRoutes.ts # Game data routes
│   │   └── index.ts      # Main router
│   ├── services/         # Business logic
│   ├── types/            # Type definitions
│   │   ├── express.d.ts  # Express type extensions
│   │   └── index.ts      # Common types
│   ├── utils/            # Utility functions
│   └── index.ts          # Entry point
├── tests/                # Test files
├── .env                  # Environment variables (not committed to Git)
├── .env.example          # Environment variables example
├── package.json          # Dependencies and scripts
└── tsconfig.json         # TypeScript configuration
```

### Mobile Application Structure (mobile/)

```
mobile/
├── src/                  # Source code
├── resources/            # Mobile app resources (icons, splash screens)
├── config/               # Mobile app configuration
├── www/                  # Built web app (generated from client build)
├── android/              # Android platform code (generated by Capacitor)
├── ios/                  # iOS platform code (generated by Capacitor)
├── capacitor.config.ts   # Capacitor configuration
└── package.json          # Dependencies and scripts
```

### Tech Stack

- **Frontend**:
  - React + TypeScript
  - Vite (build tool)
  - DaisyUI (Tailwind CSS-based component library)
  - i18next (internationalization)
  - Zustand (state management)
  - React Router (routing)
  - Axios (HTTP client)

- **Backend**:
  - Node.js + TypeScript
  - Express (web framework)
  - MongoDB + Mongoose (database)
  - JWT (authentication)
  - Nodemailer (email service)
  - Winston (logging)
  - Bcrypt (password hashing)

- **Mobile App**:
  - Capacitor (cross-platform mobile app framework)
  - Support for iOS, Android, and HarmonyOS

### Development Environment Setup

1. **Install Dependencies** (Using npm workspaces):
   ```bash
   npm install
   ```

2. **Start Development Server**:
   ```bash
   npm run dev
   ```

3. **Build Project**:
   ```bash
   npm run build
   ```

4. **Start Production Server**:
   ```bash
   npm run start
   ```

5. **Clean Dependencies** (If needed):
   ```bash
   npm run clean
   ```

### Mobile App Development

1. **Add Platforms**:
   ```bash
   cd mobile
   npm run cap:add:android  # Add Android platform
   npm run cap:add:ios      # Add iOS platform
   ```

2. **Build and Sync**:
   ```bash
   npm run build:mobile
   ```

3. **Open Platform IDE**:
   ```bash
   npm run cap:open:android  # Open Android Studio
   npm run cap:open:ios      # Open Xcode
   ```

## 项目结构

本文档描述了"这个棋盘不一般"（UnusualChessboard）项目的目录结构和文件组织。

### 根目录结构

```
UnusualChessboard/
├── client/               # 前端应用
├── server/               # 后端应用
├── mobile/               # 移动应用
├── .github/              # GitHub配置
├── .gitignore            # Git忽略文件
├── CODE_OF_CONDUCT.md    # 行为准则
├── CONTRIBUTING.md       # 贡献指南
├── development_plan.md   # 开发计划
├── LICENSE               # 许可证
├── package.json          # 项目根配置（使用npm workspaces）
├── PROJECT_STRUCTURE.md  # 本文件（项目结构说明）
└── README.md             # 项目说明
```

### 前端应用结构 (client/)

```
client/
├── public/               # 静态资源
│   └── favicon.svg       # 网站图标
├── src/                  # 源代码
│   ├── assets/           # 静态资源（图片、字体等）
│   ├── components/       # UI组件
│   ├── games/            # 游戏实现
│   │   ├── chess/        # 国际象棋
│   │   ├── chinese-chess/ # 中国象棋
│   │   ├── gobang/       # 五子棋
│   │   ├── go/           # 围棋
│   │   └── ...           # 其他游戏
│   ├── hooks/            # 自定义React钩子
│   ├── i18n/             # 国际化
│   │   ├── locales/      # 翻译文件
│   │   │   ├── en.json   # 英文翻译
│   │   │   └── zh.json   # 中文翻译
│   │   └── i18n.ts       # i18n配置
│   ├── layouts/          # 布局组件
│   │   └── MainLayout.tsx # 主布局
│   ├── router/           # 路由配置
│   ├── services/         # API服务
│   │   └── api.ts        # 后端通信API客户端
│   ├── store/            # 状态管理
│   │   └── useGameStore.ts # 游戏状态（支持云同步）
│   ├── styles/           # 样式文件
│   │   └── index.css     # 主样式文件
│   ├── utils/            # 工具函数
│   ├── App.tsx           # 应用根组件
│   ├── main.tsx          # 应用入口
│   └── vite-env.d.ts     # Vite类型声明
├── .eslintrc.json        # ESLint配置
├── .prettierrc           # Prettier配置
├── index.html            # HTML入口文件
├── package.json          # 依赖和脚本
├── postcss.config.js     # PostCSS配置
├── tailwind.config.js    # Tailwind配置
├── tsconfig.json         # TypeScript配置
├── tsconfig.node.json    # Node.js的TypeScript配置
└── vite.config.ts        # Vite配置
```

### 后端应用结构 (server/)

```
server/
├── src/                  # 源代码
│   ├── config/           # 配置文件
│   │   └── db.ts         # 数据库配置
│   ├── controllers/      # 请求处理器
│   │   ├── authController.ts # 认证控制器
│   │   └── gameDataController.ts # 游戏数据控制器
│   ├── middlewares/      # 中间件
│   │   ├── authMiddleware.ts # 认证中间件
│   │   └── errorHandler.ts # 错误处理中间件
│   ├── models/           # 数据库模型
│   │   ├── User.ts       # 用户模型
│   │   ├── GameData.ts   # 游戏数据模型
│   │   └── VerificationCode.ts # 验证码模型
│   ├── routes/           # API路由
│   │   ├── authRoutes.ts # 认证路由
│   │   ├── gameDataRoutes.ts # 游戏数据路由
│   │   └── index.ts      # 主路由
│   ├── services/         # 业务逻辑
│   ├── types/            # 类型定义
│   │   ├── express.d.ts  # Express类型扩展
│   │   └── index.ts      # 通用类型
│   ├── utils/            # 工具函数
│   └── index.ts          # 应用入口
├── tests/                # 测试文件
├── .env                  # 环境变量（不提交到Git）
├── .env.example          # 环境变量示例
├── package.json          # 依赖和脚本
└── tsconfig.json         # TypeScript配置
```

### 移动应用结构 (mobile/)

```
mobile/
├── src/                  # 源代码
├── resources/            # 移动应用资源（图标、启动屏等）
├── config/               # 移动应用配置
├── www/                  # 构建后的Web应用（由client构建生成）
├── android/              # Android平台代码（由Capacitor生成）
├── ios/                  # iOS平台代码（由Capacitor生成）
├── capacitor.config.ts   # Capacitor配置
└── package.json          # 依赖和脚本
```

### 技术栈

- **前端**：
  - React + TypeScript
  - Vite（构建工具）
  - DaisyUI（基于Tailwind CSS的组件库）
  - i18next（国际化）
  - Zustand（状态管理）
  - React Router（路由）
  - Axios（HTTP客户端）

- **后端**：
  - Node.js + TypeScript
  - Express（Web框架）
  - MongoDB + Mongoose（数据库）
  - JWT（身份验证）
  - Nodemailer（邮件服务）
  - Winston（日志）
  - Bcrypt（密码哈希）

- **移动应用**：
  - Capacitor（跨平台移动应用框架）
  - 支持iOS、Android和鸿蒙系统

### 开发环境设置

1. **安装依赖项**（使用npm workspaces）：
   ```bash
   npm install
   ```

2. **启动开发服务器**：
   ```bash
   npm run dev
   ```

3. **构建项目**：
   ```bash
   npm run build
   ```

4. **启动生产服务器**：
   ```bash
   npm run start
   ```

5. **清理依赖项**（如需要）：
   ```bash
   npm run clean
   ```

### 移动应用开发

1. **添加平台**：
   ```bash
   cd mobile
   npm run cap:add:android  # 添加Android平台
   npm run cap:add:ios      # 添加iOS平台
   ```

2. **构建并同步**：
   ```bash
   npm run build:mobile
   ```

3. **打开平台IDE**：
   ```bash
   npm run cap:open:android  # 打开Android Studio
   npm run cap:open:ios      # 打开Xcode
   ``` 